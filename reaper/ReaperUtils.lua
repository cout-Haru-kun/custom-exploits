---@diagnostic disable: undefined-global

local ReaperUtils = {} -- create object


-- ===========================================
-- Check if vars correctly loaded
if not ReaperVars then
    print("[REAPER] Error on utils load")
    os.exit()
end
-- ===========================================







-- Get primary part of a player body
function ReaperUtils:GetPrimaryPart(obj)
    -- Primary inside character
    if obj:IsA("Player") and obj.Character:FindFirstChild("HumanoidRootPart") then
        return obj.Character:FindFirstChild("HumanoidRootPart")
    end

    -- Part inside obj
    if obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChildWhichIsA("BasePart") then
        return obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChildWhichIsA("BasePart")
    end

    -- Obj is part
    if obj:IsA("BasePart") then
        return obj:IsA("BasePart")
    end

    -- Primary already set
    if obj.PrimaryPart then
        return obj.PrimaryPart
    end

    return false
end





return ReaperUtils